00-00-课程介绍

JW Player 是一款可以在线播放视频的插件器，它有两种模式， HTML5 ，还有 Flash …  它会根据用户的浏览器的功能自动切换播放器的模式..
在这个课程里，我们一起学习一下使用 JW Player …  开始我们先学一下怎么样在网页中嵌入 JW Player … 
去设置播放器的相关的设置 …  使用响应式布局的播放器的方法 …  去定制播放器上面的水印 …
添加视频的内部，还有外部的播放列表 …  
最后我们还要了解怎么样制作并且添加视频的字幕 .. 还有视频的预览缩略图 … 
好，下面我们就进入到 JW Player : HTML5 和 Flash 播放器的课程 ..


00-01-了解 JW Player

JW Player 是 longtailvideo 开发的一套在线视频播放器 ..  现在你看到的是它的官方网站 …   目前最新的 JW Player 6 ..  
在这里你会发现，有很多著名的品牌都在使用 JW Player …  Discovery …at and t  ….    imdb ….
点击页面上的 GET JW PLAYER　… 可以去下载它 ..
想进一步了解的话，可以打开 JW Player 这个菜单 …
查看使用说明，可以打开 Support …  然后选择 JW Player ..
在这里有非常详细的文档，可以帮助你了解 JW Player …
除了免费版的 JW Player ，另外它还有几个收费的版本 ..
点击右上角的 Order 按钮 … 可以查看价格 .. 非商业网站可以使用免费版 … 商业网站可以选择专业版和高级版等等 … 不同的版本之间的功能有一些区别
比如免费版的 JW Player 会在播放器的右上角显示一个 JW Player 的水印 ..  
专业版可以去掉这个水印 …  它的费用，一年是 99 美金 …   另外，高级版的 JW Player 可以授权给 10 个网站使用，还加了一些其它的增强功能。
费用是一年 299 美金。
最贵的是广告版的 JW Player ..  一年是 499 美金。
对于一般的网站来说，免费版或者专业版的 JW Player 就可以了。


01-02-下载 JW Player

打开 http://www.longtailvideo.com/， 点击页面上的 GET JW PLAYER，打开 JW Player 的下载页面，在这个文本框里，输入一个你的邮箱地址 … 
如果你不想让接收关于 JW Player 的新闻或更新的邮件，可以取消勾选这个选项 ..
完成以后，点击 Get JW Player Free 这个按钮，这样你会收到一封验证的邮件 …  登录到邮箱 … 
稍等一下 ….
找到 Longtail 网站给你发送的验证邮件 .. 
然后点击 Click to Go to Your Account .. 点击打开你的帐户 .. 
设置一下帐户的密码 ..   点击 GET YOUR JW PLAYER ..    
点击这个 Player Edition ，播放器版本右边的链接 …
找到 Player Tools 这个区域 ….    如果你想使用云服务器上的 JW Player … 你可以在网页的 <head> 标签里面，
嵌入这行代码 …
如果你想自己存储 JW Player … 可以点击  Download Self-hosted Player …. 下载 JW Player …
下面这个链接是下载 JW Player 的皮肤 ….  但是都不太好看 ….  
不过你可以使用这个免费的皮肤作为模板，然后去设计自己的播放器皮肤 ...


01-03-准备工作

我们先来做点准备工作 … 找到下来的 JW Player ，先解压一下 …  解压以后你会得到几个文件，我们只需要把这里的 jwplayer.js 嵌入到网页项目里就可以了 …  另外这个 README.html 是一个使用说明的文档 .. 你可以把它删除掉 ..
然后把它放在这个课程的资料包里 …    可以重命名一下 … 命名为 player …
这个资料包里，bootstrap 里面是 bootstrap 的架构 …  你可以参考宁皓网的 bootstrap 课程去了解它 ….  我们一会儿会用到这个架构里的布局相关的样式 …
css 这个目录下面是一个自定义的样式表 …. 
video 目录下 … 有一些视频文件 … 还有视频文件的截图  ….
再添加一个目录 … 命名为 01-03 ...
下面我们在这个目录里去创建一个网页 …  
打开你喜欢的文本编辑软件  ….  这里我用的编辑软件是 brackets … 这是一个开源的文本编辑软件，可以运行在 windows 和 mac 平台上 …  
你可以选择使用自己喜欢的编辑软件 … 
文档可以使用 html5 的标准…
因为在我的编辑器上安装了 emmet 插件  … 所以，我可以这样来创建一个基本的 html5 网页的结构  ….   输入一个 ！ 号  … 然后按一下 tab 键
修改一下页面的标题 …. JW Player …
再去添加一个 viewport 的 meta 标签  …. 
输入 meta:vp  再按一下 tab  ….     在我们的响应式设计课程里，介绍了这个标签的作用 … 有兴趣可以看一下 …. 
然后去链接几个样式表 …
link  
最后，我们可以再创建一个简单的 bootstrap 布局的结构  
div.container>div.row
在下面的视频里我们在这里去嵌入 JW Player 播放器，去播放视频  …


02-01-JW Player 存储在自己的服务器上的设置

这个视频我们来演示一下在自己服务器上存储 JW Player 来播放视频 …  在这里，我们先输入一小段注释 ..   <!-- 播放器开始 -->
另起一行 … 首先我们要嵌入 JW Player 的 jwplayer.js 这个脚本文件  … 这也是 JW Player 6 唯一让我们在页面中嵌入的文件  .. 
可以使用 <script> 标签 … <script src="player/jwplayer.js"></script>  ..  因为 jwplayer.js 相对于我们正在编辑的 index.html 这个文件来说，它的位置是在 player 目录的下面 … 所以嵌入的时候，地址里要先加上一个 player … 然后是 jwplayer.js …
下面我们要做的是为播放器添加一个容器 … 可以使用 <div> 标签 … 
<div></div>
为了让 JW Player 识别到这个容器，我们可以在上面添加一个 ID ..  这个 ID 的名称可以随便定义 …  一会在输入 JW Player 设置代码的时候，需要匹配这个 ID 的名称 … 
<div id="ninghao-player">努力加载中...</div> 
容器里可以再加点文字 … 在播放器没有加载的时候，会显示这里的文字 …  
下面我们要做的就是定义 JW Player 嵌入的代码 … 
先输入一组 <script> 标签 …
在里面再输入 jwplayer("") 在引号之间，要输入我们在播放器容器上定义的那个 ID …  这里是 ninghao-player …
后面加上一个 .setup({}) …
在这个 setup 里面的大括号里，我们需要进一步去定义相关的参数 .. 比如播放器的高度，宽度 … 要播放的视频文件等等 … 
<script type="text/javascript">
     jwplayer("myElement").setup({
          file: "/uploads/myVideo.mp4",
          image: "/uploads/myPoster.jpg"
});
</script>
我们先用一个 file … 来定义要播放的视频文件 …  file: "" …   在 file 后面的引号里输入视频文件的路径 …. 
相对于这个网页 … 在 video 目录下有一个视频文件  … （#打开）
croods-02.mp4 … 
在 file 后面的引号之外 … 用一个英文状态下的逗号分隔一下其它的参数 … 
另起一行，再用 image … 去定义视频的封面图像 …  把图像文件的路径放在 image 后面的引号里 …
在 video 目录下，有一张跟视频文件名一样的图像文件  …. 
croods-02.png  …
好，这就是 JW Player 的最基本的设置 …  现在，在网页上就应该可以使用 JW Player 去播放在 video 目录下的那个视频文件了 …. 保存一下 …. 
然后到浏览器里预览一下 ….   在页面上会显示 JW Player 播放器 … 外观使用的是 JW Player 6 默认的皮肤 … 
视频没播放之前会显示我们在 image 里面指定的图像 … 
点击播放按钮 …  可以播放在 file 里面指定的视频文件  ….


02-02-播放器的宽度和高度

默认的播放器的尺寸是 480 像素宽 x 270 像素高 … 这个尺寸我们可以自己去定义 … 
打开网页项目文件 … 找到设置 JW Player 的地方 .. 在这个 setup 里面，我们可以使用 width 属性 来设置 播放器的宽度 … 用 height 属性 … 设置播放器的高度 …
先在这个 image 参数的后面，输入一个英文状态的逗号 … 然后另起一行 …
输入 widh:  …  在 width 的后面可以定义播放器的宽度 …    940 …  因为设置的值是数字 … 所以不需要用引号括起来 … 
后面再加上一个逗号 … 另起一行 … 用 height 去定义一下播放器的高度 ….  height:520
因为这是目前最后一个参数，所以它的后面不需要添加逗号 …  保存一下 …
你会发现播放器的宽度和高度的变化 …


02-03-响应式设计的 JW Player

播放器会可以随着可视窗口的尺寸的变化而变化 …  这个视频我们让JW Player 来适应我们的响应式设计  … 
确定网页在 <head> 标签里，已经链接了  Bootstrap 的 responsive 样式表 … 
调整一下可视窗口的尺寸 … 现在我们的页面已经是响应式的了 … 不过播放器并没有什么变化 …  
回到网页项目 …   我们可以先去掉设置播放器宽度和高度的参数 …  你可以删除掉他们 … 这里我们可以注释掉 ….  在他们的前面分别输入两个斜线 … 
浏览器会忽略掉斜线后面的这行代码 …   如果你想恢复成之前的设置，可以直接去掉代码前面的斜线 … 
另起一行 … 我们再设置一下 width 参数  … 把它的值设置为 100% … 
现在播放器的宽度会随着它的容器的宽度的变化而变化 …. 
下面我们不需要再去设置播放器的高度 … 而是使用一个 aspectratio: 参数 … 去设置播放器的宽与高的比例 …
把它的值设置为 12:5  …  aspectratio: "12:5" 
保存 … 
回到浏览器 … 改变浏览器窗口的尺寸 ….
你会发现 … 播放器会随着窗口的变化而变化 …  因为在改变窗口尺寸的时候，会使用 bootstrap-responsive.css 里面的定义的样式 … 布局用的网格的宽度会有变化 … 因为我们把播放器的宽度设置成了 100% … 
所以在布局宽度变化的时候，播放器的宽度也会有变化  … 
同时我们设置了宽和高的比例，所以播放器宽度在变化的时候，会永远保持合适的比例 …. 
（# 点击播放）
在播放状态下也是一样的效果 …


02-04-播放相关的几个参数

下面我们来看几个跟播放相关的参数，把 autostart 参数设置为 true ..页面加载以后，  可以自动去播放视频 …
输入 autostart : true  … 在浏览器里预览一下 …  视频会自动播放 …. （#停止）
这个参数只试用于桌面设备… 在移动设备上不能自动播放视频 …
我们再试一下 mute 参数 …  设置为 true …  mute 就是静音的意思 … true 就是真 … 也就是默认让播放器静音 … 
保存一下 …  
你会看到播放栏上的调节音量的小喇叭图标带一个 x 号，表示当前是静音的状态 ….
下面我们再试一下循环播放的参数  … repeat … 默认这个参数的值是 false .. 也就是不循环播放视频 …
这里我们把它设置为 true … 
保存 …
我们可以拖放一下进度条 ….  注意视频在播放完成以后 … 会自动循环再次播放视频 ….  （#停止）
primary
JW Player 的播放器有两种模式 … HTML5 和 Flash ….  播放器会去检测用户的浏览器，如果支持 HTML5 ，就会使用 HTML5 模式的播放器 … 不然就会使用 Flash 模式的播放器 …
我们可以设置一下首选的播放器模式 … 默认是 HTML5 …  你也可以设置为 Flash  ..
用到的参数是 primary …  primary: "flash",   这样我们就把 Flash 模式设置为播放器的首选模式 … 
保存 …  
判断是不是使用 Flash 播放器 … 可以右键点击播放器 …  弹出的菜单里 … 会有关于浏览器 Flash 播放器的版本号 …
这就表示当前我们使用的是 Flash 模式的播放器 … 
fallback
如果用户的浏览器即不支持 HTML5 ，也不能使用 Flash 播放器，这样 JW Player 播放器会显示一个视频的下载链接  … 
我们可以设置一下，不让播放器显示视频的下载链接 …
可以使用 fallback … 把它设置为 false … 也就是关掉这个下载链接的回退功能 …


03-01-去掉播放器上默认的水印与定制关于信息（付费版）

免费版的 JW Player 播放器的右上角，会有一个 JW Player  的水印 … 如果你购买了专业版的 JW Player 或者更高级的 JW Player ，我们可以去掉这个默认的水印 … 或者可以添加自己的水印 ..
另外 … 右键点击播放器 … 会出现一个关于的信息 … 点击以后，默认会打开 jwplayer 网站 ..  这个关于的信息还有点击打开的链接，我们也可以自己去定制一下 … 
当然，这需要先购买专业版的 JW Player … 
登录到 longtailvideo.com 以后，在你的个人帐户页面，你可以获取到一个 key ，也就是一串字符 …   
然后打开网页项目的文件  … 
输入一组  <script></script> …  在这组标签之间再输入 jwplayer.key=""; …  然后在 key 后面的引号之间，输入你获取到的 key … 
RV819a6X6hl66YwK28BAXqZu17b9CPzu2mjwn33msKTuYUcFWO8+u90csV8=
JW Player 会自动识别你的播放器的版本 … 比如免费版 … 专业版 … 高级版等等 …
保存 …
你会发现，播放器上的默认的水印就不见了 … 因为我输入的 key 是一个专业版的 JW Player … 
右键点击播放器 … 上面会显示 Pro edition  … 专业版 …
这个右键点击所显示的信息我们也可以去定制一下 … 
先定制一下关于信息的内容 … 可以使用 abouttext: "ninghao", 
另起一行，再定制一下点击关于信息所打开的那个地址 …
aboutlink: "http://ninghao.net",
保存 …
右键点击播放器 …  会显示 About ninghao … 点击这个关于信息 …   会打开在 aboutlink 里设置的 ninghao.net …


03-02-自定义播放器水印标志（付费版）

付费版的 JW Player 允许我们在播放器上添加自己的水印图像 … 先准备好水印图像 …  可以使用 png 格式的图像 … 因为这样的格式可以保留透明效果 …
在资料包里找到 watermark.png 这个图像 …  把它放在网页项目里的 player 这个目录的下面 … 
打开网页项目 …  我们用 logo 参数，去定义水印图像 …   因为 logo 参数里还包含很多参数，这些参数可以放在一个大括号里 …
先用 file 参数来定义一下水印图像的路径  … 是在 player 下面的 watermark.png 这个文件 …
用逗号分隔一下 … 另起一行 … 再用 link 参数来设置一下水印的链接 .. 也就是用户点击水印，把用户带到的那个链接的地址 …
保存 ….  
在播放器上你会发现这个自定义的水印图像 … 默认会在右上角的位置 … 
我们可以用 margin 参数来控制水印的边距 … 用 position 来控制水印的位置 …
输入 margin …  默认的边距是 8 像素 …  这里我们设置为 20 像素  …
然后另起一行，再输入 position …. 这个参数的值可以配合 top 顶部，bottom 底部，另外还有 left 左边，和 right 右边 … 
比如我们想让水印图像出现在播放器的右下角的位置 …  我们可以把 position 的值设置成 bottom-right …
保存 …  
你会看到，水印图像会在播放器的右下角 … 
如果你想使用自定义水印的话，最好还是把它放在默认的右上角的位置 …  这样水印不会影响到控制栏，字幕，或者播放器上的其它东西的显示 ….
 logo: {
                                file: 'watermark.png',
                                link: 'http://ninghao.net'
 },
logo: {
                                file: 'watermark.png',
                                link: 'http://ninghao.net',
                                margin: 20,
                                position: "bottom-right"
                            },


04-01-设置播放列表

播放列表就是在一个播放器上可以播放多个视频 …  我们需要手工去设置播放列表里的每个项目… 每个项目可以拥有自己的标题，描述 … 要播放的视频，还有视频的封面等等 … 
下面我们来演示一下 …
打开网页项目 …  我们直接在 JW Player 播放器的设置里去添加这个播放列表 … 
另起一行 …  确定这里使用了一个英文状态下的逗号分隔开 …. 
然后可以使用 playlist 这个参数  …  后面是一个冒号 …   播放列表里的所有项目都会放在一组方括号里 …
里面的每一个项目使用一组大括号 … 中间同样使用英文状态下的逗号分隔开 …
这里我们要设置三个项目… 所以需要三个大括号 …
playlist: [{},{}.{}]
下面我们再去分别定义每个项目 …  鼠标放在第一个大括号里面 .. 为了代码显示的更清楚一些，我们可以另一行 …
播放列表里的每个项目需要的资源，比如视频，图片，我提前已经放在了 video 这个目录的下面 …
然后先用 image 参数 … 去设置第一个项目的视频封面图像 …
image:          "video/croods-03.jpg",
最后加上一个英文状态下的逗号，分隔项目里的不同的参数  … 
另起一行 … 再用 file 参数去设置这个项目要播放的视频文件  ….
file:           "video/croods-03.mp4",
然后可以使用 title ，去设置一下项目的标题 … 
title:          "《疯狂原始人》预告 3",
我们再添加一个描述 …  description ..   
description:    "疯狂原始人电影预告片 3"
下面我们再去设置播放列表里的其它两个项目 ..   可以先复制一下刚才添加的这些内容 …
粘贴到第二个大括号里 …  然后修改一下里面的内容 ….
再粘贴到第三个大括号里 … 再修改一下内容 ….
预览 
下面我们可以去预览一下 … 保存 …
现在播放器上面没有什么太大变化 … 只不过播放按钮上会显示我们在播放列表项目里，用 title 设置的标题 …
如果你不喜欢在这里显示标题，一会儿我们可以去掉它 …
点击播放 … 
这时候，在播放器的控制栏上，会多出两个按钮 … 上一个 … 还有 下一个 …
点击对应的按钮 … 可以控制播放器当前所播放的视频 … 
在下面的视频里，我们再看一下把播放列表显示在边栏上的方法 …


04-02-在边栏显示播放列表

把播放列表里的项目直接显示在一个边栏上 … 用户可以点击对应的项目来播放相应的视频 …
我们可以先去掉在播放按钮上显示的标题 …
可以添加一个 displaytitle … 显示标题 … 把它的值设置为 false … 也就是不显示标题 ..
displaytitle:     false,
然后我们让播放列表显示在边栏上 … 
需要用到的 listbar …  在这个参数里，我们可以设置它的位置，还有宽度 … 
先输入一组大括号 …
然后使用 position ，来设置一下它的位置  … 默认它的值是 none … 也就是不显示边栏播放列表 …
另外，我们可以把它设置成 right … 显示在右边 … 或者 bottom …. 让它显示在播放器的底部 ..
这里我们设置成 right …
后面加上一个逗号分隔一下，再用 size … 来设置它的宽度  …. 默认是 180 像素  … 这里我们把它设置成 300 像素 …. 
保存 …. 
现在，播放列表就会显示在一个边栏上了 … 
点击列表里的对应的项目 … 可以播放相应的视频 ...
listbar: {
                                position:       'right',
                                size:           300
                        }


04-03-设置播放列表里项目的多个播放源

在播放列表里的每个项目都可以拥有多个播放源，比如同一段视频，你准备了不同的格式，或者不同的尺寸 …. 这些都可以组合在同一个播放列表项目里 ..  用户在播放器的控制栏上可以自己选择。
在这个播放列表里 … 我们现在只留下了一个播放项目 …
在这个项目里，我们可以使用 sources … 来设置一下播放源 … 不同的播放源可以放在这个方括号里 …
sources:[] 
每一个播放源都要放在一组大括号里 …. 　我们要给这个项目添加两个播放源，所以可以使用两组大括号　．． 它们之间要用一个英文状态下的逗号分隔一下 ...
sources:[{},{}] 
然后鼠标选中第一个大括号 … 我们先设置一下第一个播放源 …
可以使用 file，来设置视频文件的位置 …
设置一下在 video 目录下的一个视频文件  …
file: "video/croods-03.mp4",    
这是一个质量是 720p 的视频 …   最后加上一个逗号 … 然后再设置一下 label 标签属性 … 
label: "720p"  …  这个标签会显示在播放器控制栏上的质量选择列表里 …
然后复制一下 …  粘贴到第二个大括号里 …
 file: "video/croods-03-480p.mp4", label: "720p" 
修改一下里面的内容  … 视频文件是 720p.mov …   label 改成 720p …
这样这个项目就设置了两个播放源 … 720p 的视频 .. 还有 480p 的视频 … 
默认播放器会播放第一个设置的播放源 …  我们也可以手工去设置默认的播放源 … 可以使用 default …
比如我们把 720p 的这个视频设置成默认播放的视频 ..
输入一个逗号 …   因为 default 在有些浏览器上是预留的字符 … 所以这里我们要在它的周围添加一组引号 …
然后把它的值设置为 true ..     "default": true
保存 …
到浏览器上预览一下 ….    点击播放 ….
注意现在播放器的控制栏上，会出现一个 HD 的小图标 …  点开这个图标 …
当弹出当前这个项目的播放源 …  这里默认播放的是 720p 的视频  .. 如果你发现设置的默认的播放源没有效果 … 可以清空一下浏览器的 cookie …
这里，我们可以选择其它的播放源  ….  播放器会去播放所选的播放源里设置的视频 ….


04-04-外部播放列表

前面我们介绍了直接在内部设置播放视频的方法，下面我们再了解一下，外部播放列表的设置方法 … JW Player 可以使用 RSS Feed 作为播放列表 …
在课程的资料包里 xx-xx 可以找到一个 RSS 播放列表模板文件  …  找到以后，把它放在网页项目的目录下面 …
这个 videolist.rss 就是这个模板文件  …
播放列表里的每个项目都可以放在一组 <item> 标签里 …
然后我们可以使用对应的标签来具体的去设置项目里的内容 …
我们先用一组 <title> 标签 … 设置一下项目的标签  …
然后是  <description> 标签去设置项目的描述 … 
这个 <jwplayer:image> 里面，是列表项目的视频封面图像 …
最后这个 <jwplayer:source file="" />   …  是视频源 …  在 file 后面的引号里，可以设置视频文件的具体的路径  …
这个路径你可以使用绝对的 … 如果使用相对路径的话 
文件的地址应该是相对于这个插放列表嵌入的那个网页的路径 ….   应该是上一级目录下面的 video 目录下面 ...
这里你可以使用多组 <jwplayer:source> … 来设置多个播放源 …
然后我们再复制两组 <item> 标签  …  
修改一下里面的内容 …    保存一下这个文件  …
项目文件
再打开网页项目文件..  
因为在 videolist.rss 这个文件里，已经包含了播放列表里需要的所有的东西 …
所以在这里，我们只需要指定播放列表所在的位置就行了 ….
playlist: "videolist.rss",  
保存 …. 打开浏览器 …
你会看到一个播放列表  …. 
这个播放列表里的项目来自外部的文件 …


05-01-字幕

字幕就是在播放视频的时候随着播放进度所显示的一些文字内容 …    JW Player 支持三种字幕格式，WebVTT，SRT，DFXP。
JW Player 推荐我们使用 WebVTT 格式的字幕 … 因为 WebVTT 是 HTML5 标准的字幕格式。
为视频创建字幕很简单，我们只需要一个文本编辑软件，不过最好可以使用专业的字幕编辑软件去制作视频的字幕，这样可以节省一些时间。
下面我们一起来看一下为视频添加一个字幕。
在我们的网页项目的 video 目录下面… 新建一个文件 …  字幕文件的名称可以跟视频文件的名称一样… 另外可以再加上字幕语言的代码 … 
比如我们为 croods-tlr3_h720p 这个视频添加一个中文版的字幕 .. 我们可以用这个名称来命名字幕文件 ..  后面可以再加上一个 chs … 表示这是一个简体中文版的字幕文件 ..
 croods-tlr3_h720p-chs.vtt
文件的扩展名是 vtt …
打开这个字幕文件 …   要注意的是，字幕文件的编码格式，一定要使用 UTF-8 .. 不然在视频上面显示字幕会出现问题 … 
文件的开始部分，我们需要先输入一个 WEBVTT
然后在它的下面就可以是字幕的内容了…  首先我们要定义字幕里的内容出现在视频上的时间 …
格式是这样的…. 两位数字表示的小时 … 然后是分钟 … 接着是秒 … 最后是毫秒 …   注意秒和毫秒之间是用英文状态下的逗号分隔开的..  其它地方的分隔符是冒号 ..  
这部分是字幕内容开始显示的时间 …    然后加上一个空格 …  两个横线 …  大括号 …  再输入一个空格 …
后面是字幕内容结束显示的时间 …  可以使用同样的格式 …
比如我们打算在视频开始 5 秒 到 10 秒之间 … 显示一些文字 …
开始的时间这里，在秒数这里，输入 5 …  结束的时间 … 秒数这里，输入 10 … 
00:00:00,000 --> 00:00:00,000 
然后另起一行 … 再来定义一下在视频播放的时候 5 秒到 10 秒这个时间段要显示在视频上的文字内容 …
《 疯狂原始人 》 …
我们可以继续去定义在其它时间段显示的文字 …  复制一下 …
粘贴…  然后修改一下 …   比如我们要在 10 秒到 15 秒之间，显示一些文字 …
输入文字的内容 …
你可以继续去定义其它的内容 …  
我们先保存一下这个字幕文件  …   下面的视频里我们再看一下添加字幕文件到视频上显示的方法 …


05-02-在播放器上添加字幕

我们先来看一下直接在 jwplayer 的设置里为视频添加字幕 …  用到的属性是 tracks …  逗号分隔一下 … 另起一行 … 输入 tracks …
因为播放器可以让我们添加多个字幕轨道 .. 所以我们要先用一个方括号把它们包围起来 …
然后每一个字幕轨道都可以放在一组大括号里 …
在这个大括号里，我们要用到三个属性 …  用 file 来指定字幕文件的位置 … kind 要设置为 captions ，也就是字幕 …  还有 label 标签属性 .. 
先输入一个 file ….  字幕文件在 video 目录下 … 
file: "video/croods-tlr3_h720p_chs.vtt",  
后面加上一个逗号 …   另起一行 … 再定义 kind  ….   设置为 captions ..
kind: "captions",
分隔的逗号 ..  再定义 label 属性 …  这个字幕轨道是简体中文 .. 所以标签可以设置为 简 .. 
保存 … 点击播放 … 
播放器的控制栏上会出现一个 CC 小图标 … 点开它 … 用户可以选择想要使用的字幕 … 选择简 …
当视频播放到一定时间的时候 … 会显示在字幕文件里设置的内容 ….
需要知道的是，目前 JW Player 的字幕功能不支持在移动设备上 ..  也就是你在自己的 iPhone 或者 iPad 上看视频，是不会显示这些字幕内容的。


05-03-添加多个字幕轨道

我们可以为视频添加多个字幕轨道，比如 中文，英文 … 或者是其它语言的字幕  …  用户可以点击控制栏上的字幕按钮，选择想要显示的字幕 …  
我们先去创建一个英文的字幕文件 … 打开之前创建的中文字幕文件  ….
复制里面的内容 … 然后再新建一个文件 …  文件名可以使用视频的文件名再加上字幕的语言代码 …
这里我们用 eng 表示这是一个英文的字幕 …  扩展名是 vtt
打开这个文件 … 粘贴字幕的内容 … 再修改一下 …
然后打开网页项目…   找到之前我们添加中文字幕的 tracks … 
复制这个大括号里的东西 … 然后在它的后面添加一个英文状态的逗号 …
另起一行… 再粘贴刚才的代码 …
修改一下字幕文件的路径 …  
label 标签可以设置为 en … 
保存 …  
回到浏览器 … 点击播放 …  然后点开控制栏上的 CC 按钮 …
这里第一个 off 是关闭字幕，简 是简体中文字幕 … en 是英文字幕 …
现在使用的是简体中文字幕 … 视频上会显示中文 … 我们再试一下 en 这个字幕 … 
现在视频上就会显示英文字幕里的内容了 ..


05-04-字幕文字的样式

字幕文字在视频上的显示，默认的样式是，文字是白色的，另外还带一个黑色的背景 …
JW Player 可以让我们为字幕文字添加一些简单的样式 …  比如文字的颜色和字号 …
回到网页项目上 …  我们可以以 tracks 参数的下面 .. 使用 captions 来设置字幕文字的样式..
先用一个逗号分隔一下 ..
然后输入 captions …  它的相关设置要放在一组大括号里 …
captions:{} 
我们可以先去掉字幕文字的黑色的背景 …
输入 back … 把它设置为 false .. 也就是不使用背景颜色 …
去掉背景以后，字幕文字的周围会有黑色边框 … 不过这个边框的效果在 IE8 上是不支持的 …
逗号分隔  … 另起一行 … 我们再用 color ，去设置一下文字的颜色 …
color: '#5dade2',
这是一种蓝色 …
再用 fontsize … 设置一下字号..
fontsize: 25
保存 …
到浏览器上去看一下 …
你会发现，文字的背景不见了，颜色变成了一种蓝色… 文字的大小也有一些变化 …


05-05-工具提示缩略图

鼠标放在播放器的控制栏上，会用工具提示的形式展示当前时间段里设置的视频的缩略图 … 下面我们来实现这个功能。
首先我们要准备一些视频的缩略图 .. 一般的视频播放器都有可以截取当前画面的功能 …  然后我们把这些截图缩小一些 … 这里我们把缩略图缩小成了 160 像素宽 … 
把这些缩略图放在视频目录的下面 …  放在其它目录也可以，只要设置正确的图像路径就可以  … 
然后我们可以去创建一个 WebVTT 格式的字幕文件  …  在里面可以设置不同时候段使用的缩略图 ..
先打开之前我们创建的一个字幕文件  …复制一下里面的内容 …
再新建一个文件  … 设置一下文件名 ….   可以使用视频的名称 … 后面再加上一个 thumb … 
扩展是 .vtt
打开这个文件  …  粘贴内容 …
然后修改一下里面的内容 …
比如我们想让在视频开始到视频播放到 5 秒钟这段时间里，使用一个缩略图 …
然后在这个时间段的下面，去指定缩略图的位置 …
相对于这个字幕文件来说，缩略图是在 ….   thumbnails/croods-tlr3_h720p-01.jpg 
这个设置的意思就是 … 鼠标放在 0 到 5 秒之间这块 .. 会显示这个缩略图 … 
我们可以继续去设置在其它时间段上使用的缩略图 …
10-15 ….  是 02 这个缩略图 …
15-20 ..  20-25 …. 25-30  …  保存一下 …
网页项目的设置
下面我们要把这个包含缩略图的 .vtt 放在播放器里 … 
打开网页项目 ..  之前我们添加字幕的时候，在播放器的设置里使用了一个 tracks … 在这里，我们同样可以把缩略图添加到这里 …
先复制一组 tracks 里面的大括号 …  粘贴到它的下面 …
注意中间要用英文状态的逗号分隔一下
在这个 file 里，设置缩略图的 .vtt 文件所在的位置 …
然后 kind 要设置成 thumbnails … 说明一下 … 这个轨道是缩略图 .. 不是字幕 ..
最后的这个 label .. 我们可以删除掉…
保存一下 …
预览 
到浏览器上预览一下 …    先点击播放…  （#暂停）
鼠标放在播放器控制栏上的播放栏上 …  会出现当前这个时间段里设置的缩略图 ……


05-06-使用缩略图合并的功能（ Sprites ）

我们可以把视频的缩略图组合在一张图片上，然后用图片的位置来确定到底显示这个大图片上的哪个位置…  这种把图片组合在一起的方式叫做 Sprites …
这样做的好处就是可以提高网站的性能 ..   
这里你看到的就是一张组合了多个缩略图的 Sprites 图片 … 
下面我们可以打开设置视频缩略片的 vtt 文件  …
这里面所有的缩略图我们都可以设置为刚才你看一的组合以后的大的图片 …
然后我们再用位置信息控制要显示的部分图像 …
先在图像的后面加上一个 # 号 … 然后是 xywh …  等号 … 后面是对应的这四个参数的值    = 0,0,0,0 …
这里的 x 表示水平做位置 .. y 表示垂直位置 …  w 是宽度 .. h 是高度 ..
我们可以先设置一下 w 和 h 的值 …
因为我们的每个缩略图的大小是 160 像素宽 …  68 像素高 … 所以这里的 w 的值就是 160 …
找到对应的位置 … 改成 160 ..  h 的值是 68 … 最后这个零的位置表示 h 的值 … 改成 68 …
然后我们再设置x和y 的值 … 因为这是第一个缩略图 .. 所以不需要特别设置 ..
复制一下 … 粘贴到第二个缩略图上 …
同样这个缩略图的大小也是 160 x 68 的尺寸 … 所以后面的 w 和 h 的值不用动..
想要显示第二张缩略图 .. 我们得把 x 的值设置为 160  ….
这样会使用这个大的缩略图上的水平向右偏移 160 个像素，来显示一个  160 x 68 大小的图像 … 
再设置一下第三张缩略图 …
第三张缩略图的位置需要向右偏移两个缩略图的宽度 … 160 乘以 2 是 320 个像素 ..
第四张缩略图应该水平向右偏移 480 个像素才能显示出来 ….
第五张需要向右偏移 640 个像素 … 
设置好以后 … 保存一下 …  然后去浏览器上看看 …
点击播放….    鼠标放在对应的时间段上 …  会显示在这个时间段上设置的缩略图 …
这里所有的缩略图都排在了同一张图片上 … 然后我们设置了要显示的区域的尺寸 … 再配合水平或者垂直的偏移 .. 来显示对应的缩略图 …


